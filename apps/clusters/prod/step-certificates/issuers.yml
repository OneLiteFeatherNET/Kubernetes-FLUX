apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: step-ca
spec:
  acme:
    # You must replace this email address with your own.
    # Let's Encrypt will use this to contact you about expiring
    # certificates, and issues related to your account.
    email: certificates@onelitefeather.net
    server: https://step-ca-step-certificates.step-ca.svc.cluster.local/acme/acme/directory
    caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIE1JSUJ3akNDQVdtZ0F3SUJBZ0lRWXhJamVLc1BhUHdWR01mVUgrK0ZsREFLQmdncWhrak9QUVFEQWpCQU1Sb3cKICAgICAgR0FZRFZRUUtFeEZQYm1WTWFYUmxSbVZoZEdobGNpQkRRVEVpTUNBR0ExVUVBeE1aVDI1bFRHbDBaVVpsWVhSbwogICAgICBaWElnUTBFZ1VtOXZkQ0JEUVRBZUZ3MHlOVEF6TVRVeU1ESXlNVFphRncwek5UQXpNVE15TURJeU1UWmFNRUF4CiAgICAgIEdqQVlCZ05WQkFvVEVVOXVaVXhwZEdWR1pXRjBhR1Z5SUVOQk1TSXdJQVlEVlFRREV4bFBibVZNYVhSbFJtVmgKICAgICAgZEdobGNpQkRRU0JTYjI5MElFTkJNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVtb3VUeXlPcgogICAgICBrQkdxc2NwcnpXeHBDTmxpalRxTjlxNGFzVVBMQkpzdWVGdjhtTmpPVXJaMStnTWJNODY5TUN4S3p2aEZXelFoCiAgICAgIHdEUys3d3FVdG9jRkRxTkZNRU13RGdZRFZSMFBBUUgvQkFRREFnRUdNQklHQTFVZEV3RUIvd1FJTUFZQkFmOEMKICAgICAgQVFFd0hRWURWUjBPQkJZRUZHZzVnOEpqQUZqcEhjTkRWNEVYdkNmMWovK3RNQW9HQ0NxR1NNNDlCQU1DQTBjQQogICAgICBNRVFDSUNtbTFPYXRUWDVlcFQzK3BrTnQvR0xNdDBzQXdUVElkSVZFMmFnRG5vcjRBaUFWTXpGam5jcVdGMmxECiAgICAgIDJoajhGQUk3VzFYNzhGMTRPQ2dGaXJLZC9HZzhOdz09CiAgICAgIC0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0=
    privateKeySecretRef:
      # Secret resource that will be used to store the account's private key.
      name: onelitefeather-net-issuer-account-key-step-ca
    # Add a single challenge solver, HTTP01 using nginx
    solvers:
      - http01:
          ingress:
            ingressClassName: nginx
---